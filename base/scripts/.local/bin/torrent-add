#!/bin/sh
# Default handler for magnet links
# Called by ~/.local/share/applications/torrent.desktop and ~/.config/mimeapps.list
# Depends on transmission-cli, notify-send, and dunst

pgrep -x transmission-da >/dev/null || \
    (transmission-daemon && notify-send "Starting transmission-daemon...")

sleep 5

transmission-remote -a "$@" && notify-send "Torrent Added"
